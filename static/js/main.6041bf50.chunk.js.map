{"version":3,"sources":["Snake.jsx","Food.jsx","Music.jsx","Insctuction.jsx","App.jsx","index.js"],"names":["props","snakeDots","map","dot","i","style","left","top","className","Music","url","useState","Audio","audio","playing","setPlaying","useEffect","play","pause","addEventListener","removeEventListener","useAudio","toggle","onClick","Insctuction","Component","getRandomCoordinates","Math","floor","random","getInitialState","food","status","speed","direction","highScore","Number","localStorage","getItem","newHighScore","isStarted","isEnded","Game","state","onKeyDown","e","window","event","keyCode","setState","moveSnake","dots","head","length","push","shift","gameOver","bind","startGame","restartGame","stopGame","setInterval","this","document","onkeydown","prevState","checkIfOutOfBorders","checkIfCollapsed","checkIfEat","snake","pop","forEach","enlargeSnake","increaseSpeed","setItem","newSnake","unshift","prev","console","log","id","Snake","Food","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.6041bf50.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nexport default (props) => {\r\n  return (\r\n    <div>\r\n      {props.snakeDots.map((dot, i) => {\r\n        const style = {\r\n          left: `${dot[0]}%`,\r\n          top: `${dot[1]}%`\r\n        }\r\n        return (\r\n          <div className=\"snake\" key={i} style={style}></div>\r\n        )\r\n      })}\r\n    </div>\r\n  )\r\n}","import React from 'react';\r\n\r\nexport default (props) => {\r\n\r\n  const style = {\r\n    left: `${props.dot[0]}%`,\r\n    top: `${props.dot[1]}%`\r\n  }\r\n\r\n  return (\r\n    <div className=\"food\" style={style}></div>\r\n  )\r\n}","import React, { useState, useEffect } from 'react';\r\n\r\nconst useAudio = (url) => {\r\n  const [audio] = useState(new Audio(url));\r\n  const [playing, setPlaying] = useState(false);\r\n\r\n  const toggle = () => setPlaying(!playing);\r\n\r\n  useEffect(() => {\r\n    playing ? audio.play() : audio.pause();\r\n  }, [playing]);\r\n\r\n  useEffect(() => {\r\n    return () => audio.pause();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    audio.addEventListener('ended', () => setPlaying(false));\r\n    return () => {\r\n      audio.removeEventListener('ended', () => setPlaying(false));\r\n    };\r\n  }, []);\r\n\r\n  return [playing, toggle];\r\n};\r\n\r\nconst Music = ({ url }) => {\r\n  const [playing, toggle] = useAudio(url);\r\n  return (\r\n    <div>\r\n      <button className=\"music\" onClick={toggle}>\r\n        {playing ? 'üîàOff' : 'üîäOn'}\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Music;\r\n","import React, { Component } from 'react';\r\nclass Insctuction extends Component {\r\n    render() {\r\n      return(\r\n          <div className = \"instr\">\r\n            <h2>Hotkeys</h2>\r\n              <div>\r\n              <ul>\r\n                  <li>‚¨ÜÔ∏è - keys UP and W</li>\r\n                  <li>‚¨áÔ∏è - keys DOWN and S</li>\r\n                  <li>‚¨ÖÔ∏è - keys LEFT and A</li>\r\n                  <li>‚û°Ô∏è - keys RIGHT and D</li>\r\n            </ul>\r\n            </div>\r\n          </div>\r\n      )\r\n    }\r\n  }\r\n  export default Insctuction;","import React, { Component } from 'react';\r\nimport Snake from './Snake';\r\nimport Food from './Food';\r\nimport './SnakeGame.css';\r\nimport Music from './Music';\r\nimport Instruction from './Insctuction';\r\n\r\nconst getRandomCoordinates = () => {\r\n  let min = 1;\r\n  let max = 98;\r\n  let x = Math.floor((Math.random() * (max - min + 1) + min) / 2) * 2;\r\n  let y = Math.floor((Math.random() * (max - min + 1) + min) / 2) * 2;\r\n  return [x, y];\r\n};\r\n\r\nconst getInitialState = () => ({\r\n  food: getRandomCoordinates(),\r\n  status: 0,\r\n  speed: 150,\r\n  direction: 'RIGHT',\r\n  snakeDots: [\r\n    [0, 0],\r\n    [2, 0],\r\n  ],\r\n  highScore: Number(localStorage.getItem('snakeHighScore')) || 0,\r\n  newHighScore: false,\r\n  isStarted: false,\r\n  isEnded: false,\r\n});\r\n\r\nclass Game extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.gameOver = this.gameOver.bind(this);\r\n    this.startGame = this.startGame.bind(this);\r\n    this.restartGame = this.restartGame.bind(this);\r\n    this.stopGame = this.stopGame.bind(this);\r\n  }\r\n  state = getInitialState();\r\n\r\n  componentDidMount() {\r\n    setInterval(this.moveSnake, this.state.speed);\r\n    document.onkeydown = this.onKeyDown;\r\n  }\r\n\r\n  componentDidUpdate(prevState) {\r\n    if (prevState.status != 2 && this.state.isEnded !== true) {\r\n      this.checkIfOutOfBorders();\r\n      this.checkIfCollapsed();\r\n      this.checkIfEat();\r\n    }\r\n  }\r\n\r\n  onKeyDown = (e) => {\r\n    e = e || window.event;\r\n    switch (e.keyCode) {\r\n      case 38:\r\n        this.setState({ direction: 'UP' });\r\n        break;\r\n      case 40:\r\n        this.setState({ direction: 'DOWN' });\r\n        break;\r\n      case 37:\r\n        this.setState({ direction: 'LEFT' });\r\n        break;\r\n      case 39:\r\n        this.setState({ direction: 'RIGHT' });\r\n        break;\r\n      case 68:\r\n        this.setState({ direction: 'D' });\r\n        break;\r\n      case 65:\r\n        this.setState({ direction: 'A' });\r\n        break;\r\n      case 83:\r\n        this.setState({ direction: 'S' });\r\n        break;\r\n      case 87:\r\n        this.setState({ direction: 'W' });\r\n        break;\r\n    }\r\n  };\r\n\r\n  moveSnake = () => {\r\n    let dots = [...this.state.snakeDots];\r\n    let head = dots[dots.length - 1];\r\n    const { speed, isStarted } = this.state;\r\n\r\n    switch (this.state.direction) {\r\n      case 'RIGHT':\r\n        head = [head[0] + 2, head[1]];\r\n        break;\r\n      case 'LEFT':\r\n        head = [head[0] - 2, head[1]];\r\n        break;\r\n      case 'DOWN':\r\n        head = [head[0], head[1] + 2];\r\n        break;\r\n      case 'UP':\r\n        head = [head[0], head[1] - 2];\r\n        break;\r\n      case 'D':\r\n        head = [head[0] + 2, head[1]];\r\n        break;\r\n      case 'A':\r\n        head = [head[0] - 2, head[1]];\r\n        break;\r\n      case 'S':\r\n        head = [head[0], head[1] + 2];\r\n        break;\r\n      case 'W':\r\n        head = [head[0], head[1] - 2];\r\n        break;\r\n    }\r\n    dots.push(head);\r\n    dots.shift();\r\n    isStarted === true &&\r\n      speed != 0 &&\r\n      this.setState({\r\n        snakeDots: dots,\r\n      });\r\n  };\r\n\r\n  checkIfOutOfBorders() {\r\n    let head = this.state.snakeDots[this.state.snakeDots.length - 1];\r\n    if (head[0] >= 100 || head[1] >= 100 || head[0] < 0 || head[1] < 0) {\r\n      this.gameOver();\r\n    }\r\n  }\r\n\r\n  checkIfCollapsed() {\r\n    let snake = [...this.state.snakeDots];\r\n    let head = snake[snake.length - 1];\r\n    snake.pop();\r\n    snake.forEach((dot) => {\r\n      if (head[0] == dot[0] && head[1] == dot[1]) {\r\n        this.gameOver();\r\n      }\r\n    });\r\n  }\r\n\r\n  checkIfEat() {\r\n    let head = this.state.snakeDots[this.state.snakeDots.length - 1];\r\n    let food = this.state.food;\r\n    if (head[0] == food[0] && head[1] == food[1]) {\r\n      this.setState({\r\n        food: getRandomCoordinates(),\r\n      });\r\n      this.enlargeSnake();\r\n      this.increaseSpeed();\r\n    }\r\n    if (this.state.snakeDots.length > this.state.highScore) {\r\n      this.setState({\r\n        highScore: this.state.snakeDots.length,\r\n        newHighScore: true,\r\n      });\r\n      localStorage.setItem('snakeHighScore', this.state.snakeDots.length);\r\n    }\r\n  }\r\n\r\n  enlargeSnake() {\r\n    let newSnake = [...this.state.snakeDots];\r\n    newSnake.unshift([]);\r\n    this.setState({\r\n      snakeDots: newSnake,\r\n    });\r\n  }\r\n\r\n  increaseSpeed() {\r\n    if (this.state.speed > 10) {\r\n      this.setState({\r\n        speed: this.state.speed - 10,\r\n      });\r\n    }\r\n  }\r\n  startGame() {\r\n    this.setState({\r\n      status: 1,\r\n      isStarted: true,\r\n    });\r\n  }\r\n  gameOver() {\r\n    this.setState({\r\n      isEnded: true,\r\n      speed: 0,\r\n      status: 2,\r\n    });\r\n  }\r\n  stopGame() {\r\n    this.setState((prev) => ({\r\n      speed: prev.speed ? 0 : 1,\r\n    }));\r\n  }\r\n  restartGame() {\r\n    this.setState(getInitialState());\r\n  }\r\n\r\n  render() {\r\n    console.log(this.state.status);\r\n    if (this.state.status === 0 && this.state.isEnded !== true) {\r\n      return (\r\n        <div>\r\n          <div className=\"startgame\">\r\n            <div>SNAKE</div>\r\n            <button className=\"button\" onClick={this.startGame}>\r\n              Start Game\r\n            </button>\r\n          </div>\r\n          <Instruction />\r\n        </div>\r\n      );\r\n    } else if (this.state.status === 2) {\r\n      return (\r\n        <div className=\"gameover\">\r\n          <div id=\"GameOverText\">GAME OVER</div>\r\n          <div>Your score: {this.state.snakeDots.length}</div>\r\n          <div>\r\n            {this.state.newHighScore ? 'New local ' : 'Local '}high score: {this.state.highScore}\r\n          </div>\r\n          <div className=\"restart\" onClick={this.restartGame}>\r\n            Press to restart\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n    return (\r\n      <div>\r\n        <div className=\"name-game\">SNAKE</div>\r\n        <div className=\"container\">\r\n          <button className=\"music\" id=\"mainRestart\" onClick={this.restartGame}>\r\n            New Game\r\n          </button>\r\n          <button className=\"music\" id=\"mainStop\" onClick={this.stopGame}>\r\n            Stop Game\r\n          </button>\r\n          <Music\r\n            url={\r\n              'https://d7.hotplayer.ru/download/83cd30bc87ac1216b7890e617fb1b8b1/156905203_456240033/11c61541d908c-1af6714942e4-566d8e6e6ff/Hotline%20Miami%202%3A%20Wrong%20Number%20%28Confirmed%20Soundtrack%29%20-%20M.O.O.N.%20-%20Dust.mp3'\r\n            }\r\n          />\r\n        </div>\r\n        <div className=\"area\">\r\n          <Snake snakeDots={this.state.snakeDots} />\r\n          <Food dot={this.state.food} />\r\n        </div>\r\n        <div className=\"score\">\r\n          HIGH-SCORE: {this.state.highScore}&ensp;&ensp;&ensp;&ensp;SCORE: {this.state.snakeDots.length}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Game;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport Game from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Game />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}